/* =======================
   Modal Preview
======================= */

.modal {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(4px) saturate(120%);
  z-index: 40;
}

.modal[aria-hidden="true"] {
  display: none; /* oculto por accesibilidad */
}

.modal-dialog {
  width: min(1000px, 92%);
  border-radius: 1rem;
  overflow: hidden;
  background: var(--card);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
}

/* Barra superior */
.modal-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  border-bottom: 1px solid var(--line);
}

.modal-title {
  display: flex;
  align-items: center;
  gap: .5rem;
  font-weight: 600;
  color: var(--text);
}

.modal-title i {
  color: var(--brand);
}

/* Contenedor del iframe */
.iframe-wrap {
  position: relative;
  aspect-ratio: 16 / 9;
  background: var(--bg);
}

.iframe-wrap iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: 0;
}

/* Loader animado (puntitos) */
.iframe-loader {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
}

.iframe-loader .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--text);
  opacity: .5;
  margin: 0 3px;
  display: inline-block;
  animation: bounce 1.2s infinite;
}

.iframe-loader .dot:nth-child(2) { animation-delay: .2s; }
.iframe-loader .dot:nth-child(3) { animation-delay: .4s; }

@keyframes bounce {
  0%, 80%, 100% { transform: scale(0); }
  40% { transform: scale(1); }
}

/* Acciones al pie */
.modal-actions {
  padding: 10px 12px;
  border-top: 1px solid var(--line);
  display: flex;
  justify-content: flex-end;
}
